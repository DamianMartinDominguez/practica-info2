#include <stdio.h>
#include <stdlib.h>
#include <conio.h>

struct cliente
{
  char clave[6];
  char nombre[20];
  float credito;
}cliente_t;

// prototipos

void carga(void);
void ver(void);
void agregar(void);
void modificar(void);
void listar(void);


void main(void)
{
char s='n';
while(s!='s' && s!='S')
{
system("clear");
printf("\n\n\nMENU DE OPCIONES  \n");
printf("=================  \n");
printf("C_ CARGA DE DATOS  \n");
printf("V_ VER DATOS  \n");
printf("A_ AGREGAR DATOS  \n");
printf("M_ MODIFICAR DATOS  \n");
printf("L_ LISTAR DATOS  \n");
printf("S_ SALIR  \n");
printf("OPCION:  \n");
s=getchar();
switch(s)
{
  case 'c':
  case 'C':
            carga();
            break;
  case 'v':
  case 'V':
            ver();
            break;
  case 'a':
  case 'A':
            agregar();
            break;
  case 'm':
  case 'M':
            modificar();
            break;
  case 'l':
  case 'L':
            listar();
            break;
}

}

printf("\n\n Fin del programa");
system("pause");

}



void carga(void)
{
int f;
char s='n';
FILE *p;
if((p=fopen("menuABM","wb"))==NULL)
{
printf("\n problemas al abrir el archvo\n");
getch();
s=27;
}
while(s!='27')
{
system("clr");
printf("\n\n\nMENU DE CARGA  \n");
printf("=================  \n");
printf("ingrese la clave \n");
fflush(stdin);
gets(cliente_t.clave);
printf("ingrese el nombre  \n");
fflush(stdin);
gets(cliente_t.nombre);
printf("ingrese el credito  \n");
fflush(stdin);
scanf("%f",&cliente_t.credito);
f=fwrite(&cliente_t,sizeof(cliente_t),1,p);
f(f!=1);
{
printf("\n no grabo el ultimo registro");
getch();
}
fflush(stdin);
printf("\n Toque una tecla para continuar, ESC para salir");
s=getche();
}
fclose(p);
}

void ver(void)
{

}


void modificar(void)
{

}


void listar(void)
{

}



